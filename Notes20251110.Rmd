---
title: "Notes 2025-11-10"
author: "Blazej Kochanski"
date: "2025-11-10"
output: html_document
---

## The data

```{r warning=FALSE}
library(googlesheets4)
gs4_deauth()
d <- read_sheet("https://docs.google.com/spreadsheets/d/1I1ZJ4I345TfaHvyCCgzMz8pMsfS_J3yi9WcpcrhO6No/edit?usp=sharing", "clean_data")
```

Let's construct a 95-percent CI (confidence interval) for the mean height. We assume the data we collected is a sample from the population of some students. And we ask ourselves what is the average height in the population. 

```{r}
mean(d$height)
test_result<-t.test(d$height, conf.level = 0.95)
print(test_result$conf.int)
```

Compute:

- The confidence interval for the average right hand span in the population (assume 99% confidence). 

- The 95-percent confidence interval for the average movies watching time in hours (`movies`). 

- The 95-percent confidence interval for the proportion of males in the group. 

- The 95-percent confidence interval for the correlation between the height and head size (`head_circ`). 

Some templates from my statistics2 course: 

https://bookdown.org/blazej_kochanski/statistics2/templates-main.html



The confidence interval for the average right hand span in the population (assume 99% confidence). 

```{r}
mean(d$right_hand_span)
test_result<-t.test(d$right_hand_span, conf.level = 0.99)
print(test_result$conf.int)
```

The 95-percent confidence interval for the average movies watching time in hours (`movies`). 

```{r}
mean(d$movies, na.rm=TRUE)
test_result<-t.test(d$movies, conf.level = 0.95)
print(test_result$conf.int)
```

The 95-percent confidence interval for the proportion of males in the group. 

```{r}
(nmales = sum(d$gender=="Male"))
(n = length(d$gender))
#install.packages("binom")
binom::binom.confint(nmales, n, conf.level = 0.95, method="wilson")
prop.test(nmales, n, conf.level = 0.95, correct = FALSE)$conf.int
```

The 95-percent confidence interval for the correlation between the height and head size (`head_circ`). 

```{r}
cor.test(d$height, d$head_circ, alternative = "two.sided", conf.level = 0.95)
```

Some templates from my statistics2 course: 

https://bookdown.org/blazej_kochanski/statistics2/templates-main.html

## How does randomness look like -- experiment

Your job is to imagine 100 tosses of the coin, one after another. One side is "0", another "1" (Orzel/Reszka; Head/Tail) etc. Put them on paper, using a pen. Without computers or real coins/other random number generators. 

Put them in sequence, ten tosses in a line, ten lines. The person, whose tosses are most similar to typical real random tosses wins. 

## Testing correlation (association) between two categorical variables


```{r}
d$eye_colour2 <- d$eye_colour
d$eye_colour2[!(d$eye_colour %in% c("Blue", "Brown", "Green"))] <- "Other"
tab <- table(d$gender, d$eye_colour2)
tab
```

